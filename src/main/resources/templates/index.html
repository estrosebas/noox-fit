<!DOCTYPE html>
<html th:lang="${#locale.language}" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <!-- Viewport meta tag para hacer la página responsive -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Noox Fit - Fitness Tracker</title>
    <!-- CDN de Bootstrap CSS v5.3.2 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./css/index.css">
</head>
<!-- Clases de Bootstrap para fondo oscuro y texto claro -->
<body class="bg-dark text-light">
    <!-- Navbar: barra de navegación oscura expandible en pantallas grandes -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-black">
        <!-- Container: mantiene el contenido centrado y con márgenes -->
        <div class="container">            <!-- Navbar-brand: logo o nombre de la marca -->
            <a class="navbar-brand" th:href="@{/}">NOOX FIT</a>
            <!-- Botón hamburguesa para menú móvil -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!-- Contenedor colapsable para los elementos de navegación -->
            <div class="collapse navbar-collapse" id="navbarNav">
                <!-- Lista de navegación con margen automático a la derecha -->
                <ul class="navbar-nav me-auto">
                    <!-- Elementos de navegación con estados activo/inactivo -->
                    <li class="nav-item">
                        <a class="nav-link active" href="#home" th:text="#{navbar.home}">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#features" th:text="#{navbar.features}">Features</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#about" th:text="#{navbar.about}">About Us</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contact" th:text="#{navbar.contact}">Contact</a>
                    </li>
                </ul>
                <!-- Contenedor flex para los botones de login/register -->
                <div class="d-flex align-items-center">
                    <!-- Language Selector -->
                    <div class="dropdown me-2">
                        <button class="btn btn-outline-light dropdown-toggle" type="button" id="languageDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                            <span th:text="#{language.name}">Language</span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="languageDropdown">
                            <li><a class="dropdown-item" th:href="@{?lang=en}">English</a></li>
                            <li><a class="dropdown-item" th:href="@{?lang=es}">Español</a></li>
                        </ul>
                    </div>
                    <!-- Botón outline con margen a la derecha -->
                    <a th:href="@{/login}" class="btn btn-outline-light me-2" th:text="#{navbar.login}">Login</a>
                    <!-- Botón primario -->
                    <a th:href="@{/register}" class="btn btn-primary" th:text="#{navbar.register}">Register</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Sección hero con texto centrado -->
    <section id="home" class="hero-section text-center">
        <!-- Container para mantener el contenido centrado -->
        <div class="container">
            <h1 th:text="#{hero.title}">Transform Your Fitness Journey</h1>
            <!-- Clase lead para párrafo destacado -->
            <p class="lead" th:text="#{hero.subtitle}">Track your workouts, set goals, and achieve results with Noox Fit</p>
            <!-- Botones de acción -->
            <div class="d-flex justify-content-center gap-3">
                <a th:href="@{/register}" class="btn btn-primary btn-lg" th:text="#{hero.button}">Get Started</a>
                <button type="button" class="btn btn-outline-light btn-lg" onclick="loadPromotions()" th:text="#{promotions.button}">View Promotions</button>
            </div>
        </div>
    </section>

    <!-- Sección de características con padding y fondo oscuro -->
    <section id="features" class="py-5 bg-dark">
        <!-- Container para mantener el contenido centrado -->
        <div class="container">
            <h2 class="text-center mb-5 text-light" th:text="#{features.title}">Features</h2>
            <div class="row">
                <!-- Columna de características con margen inferior -->
                <div class="col-md-4 mb-4">
                    <!-- Tarjeta con fondo oscuro sutil, texto claro y borde secundario -->
                    <div class="card h-100 bg-dark-subtle text-light border-secondary">
                        <div class="card-body text-center">
                            <h3 class="card-title" th:text="#{features.workout.title}">Workout Tracking</h3>
                            <p class="card-text" th:text="#{features.workout.description}">Log your exercises, sets, reps, and weights to monitor your progress.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="card h-100 bg-dark-subtle text-light border-secondary">
                        <div class="card-body text-center">
                            <h3 class="card-title" th:text="#{features.routines.title}">Custom Routines</h3>
                            <p class="card-text" th:text="#{features.routines.description}">Create personalized workout routines tailored to your fitness goals.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="card h-100 bg-dark-subtle text-light border-secondary">
                        <div class="card-body text-center">
                            <h3 class="card-title" th:text="#{features.analytics.title}">Progress Analytics</h3>
                            <p class="card-text" th:text="#{features.analytics.description}">Visualize your fitness journey with detailed charts and statistics.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Sección sobre nosotros con padding y fondo negro -->
    <section id="about" class="py-5 bg-black">
        <!-- Container para mantener el contenido centrado -->
        <div class="container">
            <h2 class="text-center mb-5 text-light" th:text="#{about.title}">About Us</h2>
            <div class="row align-items-center">
                <!-- Columna con imagen redondeada -->
                <div class="col-lg-6 mb-4 mb-lg-0">
                    <img src="./img/cbum.png" alt="About Noox Fit" class="img-fluid rounded">
                </div>
                <div class="col-lg-6">
                    <h3 class="text-light" th:text="#{about.mission.title}">Our Mission</h3>
                    <p class="text-light-emphasis" th:text="#{about.mission.description}">At Noox Fit, we believe that fitness should be accessible to everyone. Our mission is to provide a simple yet powerful tool to help you track your fitness journey and achieve your goals.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Sección de contacto con padding y fondo oscuro -->
    <section id="contact" class="py-5 bg-dark">
        <!-- Container para mantener el contenido centrado -->
        <div class="container">
            <h2 class="text-center mb-5 text-light" th:text="#{contact.title}">Contact Us</h2>
            <div class="row">
                <div class="col-lg-6 mx-auto">
                    <!-- Display success message -->
                    <div th:if="${successMessage}" class="alert alert-success alert-dismissible fade show" role="alert">
                        <span th:text="${successMessage}"></span>
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                    <!-- Display error message -->
                    <div th:if="${errorMessage}" class="alert alert-danger alert-dismissible fade show" role="alert">
                        <span th:text="${errorMessage}"></span>
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>                    <form id="contactForm" th:action="@{/contactos/enviar}" method="post" th:object="${contactoDTO}">
                        <div class="mb-3">
                            <label for="name" class="form-label text-light" th:text="#{contact.name}">Name</label>
                            <input type="text" class="form-control bg-dark-subtle text-light border-secondary" id="name" th:field="*{nombre}" required>
                        </div>
                        <div class="mb-3">
                            <label for="email" class="form-label text-light" th:text="#{contact.email}">Email</label>
                            <input type="email" class="form-control bg-dark-subtle text-light border-secondary" id="email" th:field="*{correo}" required>
                        </div>
                        <div class="mb-3">
                            <label for="message" class="form-label text-light" th:text="#{contact.message}">Message</label>
                            <textarea class="form-control bg-dark-subtle text-light border-secondary" id="message" rows="4" th:field="*{mensaje}" required></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary" th:text="#{contact.button}">Send Message</button>
                    </form>
                    
                    <!-- Confirmation Modal and Success Modal are removed as messages will be shown above the form -->

                </div>
            </div>
        </div>
    </section>

    <!-- Footer con fondo negro y texto blanco -->
    <footer class="bg-black text-white py-4">
        <!-- Container para mantener el contenido centrado -->
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5 th:text="#{footer.brand}">NOOX FIT</h5>
                    <p th:text="#{footer.description}">Your ultimate fitness tracking solution.</p>
                </div>
                <div class="col-md-3">
                    <h5 th:text="#{footer.links.title}">Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="#home" class="text-light" th:text="#{footer.links.home}">Home</a></li>
                        <li><a href="#features" class="text-light" th:text="#{footer.links.features}">Features</a></li>
                        <li><a href="#about" class="text-light" th:text="#{footer.links.about}">About Us</a></li>
                        <li><a href="#contact" class="text-light" th:text="#{footer.links.contact}">Contact</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h5 th:text="#{footer.follow.title}">Follow Us</h5>
                    <div class="d-flex">
                        <a href="#" class="text-light me-2" th:text="#{footer.follow.facebook}">Facebook</a>
                        <a href="#" class="text-light me-2" th:text="#{footer.follow.twitter}">Twitter</a>
                        <a href="#" class="text-light" th:text="#{footer.follow.instagram}">Instagram</a>
                    </div>
                </div>
            </div>
            <hr class="border-secondary">
            <div class="text-center">
                <p th:text="#{footer.copyright}">&copy; 2023 Noox Fit. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Promotions Modal -->
    <div class="modal fade" id="promotionsModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content bg-dark text-white">
                <div class="modal-header">
                    <h5 class="modal-title" th:text="#{promotions.modal.title}">Current Promotions</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="promotionsLoading" class="text-center">
                        <p th:text="#{promotions.loading}">Loading promotions...</p>
                    </div>
                    <div id="promotionsError" class="alert alert-danger d-none">
                        <p th:text="#{promotions.error}">Error loading promotions. Please try again.</p>
                    </div>
                    <div id="promotionsContent" class="d-none">
                        <!-- Promotions will be loaded here dynamically -->
                    </div>
                    <div id="promotionsEmpty" class="text-center d-none">
                        <p th:text="#{promotions.none}">No promotions available at this time.</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" th:text="#{promotions.modal.close}">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script th:inline="javascript">
        /*<![CDATA[*/
        window.messages = {
            'promotions.discount': /*[[#{promotions.discount}]]*/ 'Discount',
            'promotions.valid.until': /*[[#{promotions.valid.until}]]*/ 'Valid Until',
            'promotion.summer.title': /*[[#{promotion.summer.title}]]*/ 'Summer Special',
            'promotion.summer.description': /*[[#{promotion.summer.description}]]*/ 'Get fit for summer! Special discount on annual memberships.',
            'promotion.new.member.title': /*[[#{promotion.new.member.title}]]*/ 'New Member Offer',
            'promotion.new.member.description': /*[[#{promotion.new.member.description}]]*/ 'Join now and get your first month free!',
            'promotion.bring.friend.title': /*[[#{promotion.bring.friend.title}]]*/ 'Bring a Friend',
            'promotion.bring.friend.description': /*[[#{promotion.bring.friend.description}]]*/ 'Refer a friend and both get a discount on monthly plans.'
        };
        /*]]>*/
    </script>
    <script src="./js/promotions.js"></script>
    
    <!-- Diccionario de clases Bootstrap utilizadas -->
    <!-- 
    Clases generales de Bootstrap utilizadas en esta página:

    Contenedores y Layout:
    - container: Contenedor responsivo con márgenes automáticos
    - row: Fila del sistema grid de Bootstrap
    - col-md-*: Columnas responsivas (md = medium devices)
    
    Utilidades de Espaciado:
    - py-*: Padding vertical (top y bottom)
    - my-*: Margin vertical
    - mb-*: Margin bottom
    - me-*: Margin end (derecha)
    
    Utilidades de Fondo y Texto:
    - bg-dark: Fondo oscuro
    - bg-black: Fondo negro
    - text-light: Texto claro
    - text-center: Alineación de texto al centro
    
    Componentes de Navegación:
    - navbar: Barra de navegación
    - navbar-expand-lg: Expansión de navbar en pantallas grandes
    - navbar-dark: Tema oscuro para navbar
    - nav-item: Elemento de navegación
    - nav-link: Enlace de navegación
    
    Botones:
    - btn: Clase base para botones
    - btn-primary: Botón de color primario
    - btn-outline-light: Botón con borde claro
    - btn-lg: Botón grande
    
    Componentes de Tarjeta:
    - card: Contenedor de tarjeta
    - card-body: Cuerpo de la tarjeta
    - card-title: Título de la tarjeta
    - card-text: Texto de la tarjeta
    
    Utilidades Flex:
    - d-flex: Display flex
    - justify-content-center: Centrado horizontal
    - align-items-center: Centrado vertical
    
    Utilidades de Borde:
    - border-secondary: Borde de color secundario
    - rounded-3: Bordes redondeados
    --> 
</body>
</html>